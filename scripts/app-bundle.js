define("app",["exports","aurelia-framework","aurelia-router","aurelia-auth"],function(e,t,n,o){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;var r,a;e.App=(r=(0,t.inject)(n.Router,o.FetchConfig),r(a=function(){function e(t,n){i(this,e),this.router=t,this.fetchConfig=n}return e.prototype.activate=function(){this.fetchConfig.configure()},e.prototype.configureRouter=function(e,t){e.title="Athena Desk",e.addPipelineStep("authorize",o.AuthorizeStep),e.map([{route:["","faq"],name:"faq",moduleId:"views/faq/faq",nav:!0,auth:!0,title:"Faqs"},{route:"login",name:"login",moduleId:"views/login/login",nav:!0,title:"Login"}]),this.router=t},e}())||a)}),define("auth-config",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={responseTokenProp:"token",baseUrl:"http://localhost:3000/",logoutRedirect:"/#/login"},n={responseTokenProp:"token",baseUrl:"https://faq-server.herokuapp.com"},o=void 0;o="localhost"===window.location.hostname?t:n,e.default=o}),define("environment",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={debug:!1,testing:!1,base:"https://faq-server.herokuapp.com/"}}),define("main",["exports","./environment","./auth-config"],function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){e.use.standardConfiguration().feature("resources").plugin("aurelia-dialog").plugin("aurelia-auth",function(e){e.configure(a.default)}),r.default.debug&&e.use.developmentLogging(),r.default.testing&&e.use.plugin("aurelia-testing"),e.start().then(function(){return e.setRoot()})}Object.defineProperty(e,"__esModule",{value:!0}),e.configure=i;var r=o(t),a=o(n);Promise.config({longStackTraces:r.default.debug,warnings:{wForgottenReturn:!1}})}),define("models/faq",["exports","aurelia-framework","aurelia-path","objection-find-query","aurelia-fetch-client","../environment"],function(e,t,n,o,i,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.FaqStore=void 0;var l,u,c=a(r),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();e.FaqStore=(l=(0,t.inject)(i.HttpClient),l(u=function(){function e(t){s(this,e),t.configure(function(e){return e.withBaseUrl(c.default.base)}),this.http=t,this.page={number:0}}return e.prototype.getItems=function(e,t,i,r){var a=this,s="faqs",l={sort:r?r:"-id"};if(e&&Object.keys(e).length&&(s=s+"?"+(0,n.buildQueryString)((0,o.format)(e,"where"))),t){var u={include:"["+t.join(",")+"]"};s=e&&Object.keys(e).length?s+"&"+(0,n.buildQueryString)(u):s+"?"+(0,n.buildQueryString)(u)}return i&&("next"===i?this.page.number=this.page.number+1:this.page.number=this.page.number-1,s=s+"&page[number]="+this.page.number),l&&(s=s+"&"+(0,n.buildQueryString)(l)),this.http.fetch(s).then(function(e){return e.json()}).then(function(e){a._items=e.results}).catch(function(e){console.log(e)})},e.prototype.createItem=function(e){var t=this;return this.http.fetch("faqs",{method:"POST",body:(0,i.json)(e)}).then(function(e){t.getItems(void 0,["webpage","category"])}).catch(function(e){console.log(e)})},p(e,[{key:"items",get:function(){return this._items}}]),e}())||u)}),define("resources/index",["exports"],function(e){"use strict";function t(e){}Object.defineProperty(e,"__esModule",{value:!0}),e.configure=t}),define("views/faq/create-faq",["exports","aurelia-dialog","aurelia-framework","../../models/faq"],function(e,t,n,o){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.CreateFaq=void 0;var r,a;e.CreateFaq=(r=(0,n.inject)(t.DialogController,o.FaqStore),r(a=function(){function e(t,n){i(this,e),this.controller=t,this.faqStore=n}return e.prototype.activate=function(e){this.faq=e},e.prototype.create=function(e){e.webpage_id=1,e.category_id=1,this.faqStore.createItem(e),this.controller.ok()},e}())||a)}),define("views/faq/faq",["exports","aurelia-framework","../../models/faq","aurelia-dialog","./create-faq"],function(e,t,n,o,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Faq=void 0;var a,s;e.Faq=(a=(0,t.inject)(n.FaqStore,o.DialogService),a(s=function(){function e(t,n){r(this,e),this.filters={},this.include=["webpage","category"],this.faqStore=t,this.dialogService=n}return e.prototype.activate=function(){this.faqStore.getItems(this.filters,this.include)},e.prototype.getFaqs=function(){this.filters.search&&!this.searchText&&delete this.filters.search,this.searchText&&(this.filters.search={question:this.searchText}),this.faqStore.getItems(this.filters,this.include)},e.prototype.openFaqCreationDialog=function(e){this.dialogService.open({viewModel:i.CreateFaq,model:e}).then(function(e){e.wasCancelled?console.log("bad"):console.log("good - ",e.output),console.log(e.output)})},e}())||s)}),define("views/login/login",["exports","aurelia-auth","aurelia-framework"],function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Login=void 0;var i,r;e.Login=(i=(0,n.inject)(t.AuthService),i(r=function(){function e(t){o(this,e),this.heading="Login",this.email="",this.password="",this.auth=t}return e.prototype.login=function(){var e=this;return this.auth.login(this.email,this.password).then(function(e){console.log("success logged "+e)}).catch(function(t){console.log("login failure"),e.showError=!0})},e}())||r)}),define("aurelia-auth/auth-service",["exports","aurelia-dependency-injection","aurelia-fetch-client","aurelia-event-aggregator","./authentication","./base-config","./oAuth1","./oAuth2","./auth-utilities"],function(e,t,n,o,i,r,a,s,l){"use strict";function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.AuthService=void 0;var c,p,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.AuthService=(c=(0,t.inject)(n.HttpClient,i.Authentication,a.OAuth1,s.OAuth2,r.BaseConfig,o.EventAggregator),c(p=function(){function e(t,n,o,i,r,a){u(this,e),this.http=t,this.auth=n,this.oAuth1=o,this.oAuth2=i,this.config=r.current,this.tokenInterceptor=n.tokenInterceptor,this.eventAggregator=a}return e.prototype.getMe=function(){var e=this.auth.getProfileUrl();return this.http.fetch(e).then(l.status)},e.prototype.isAuthenticated=function(){return this.auth.isAuthenticated()},e.prototype.getTokenPayload=function(){return this.auth.getPayload()},e.prototype.setToken=function(e){this.auth.setToken(Object.defineProperty({},this.config.tokenName,{value:e}))},e.prototype.signup=function(e,t,o){var i=this,r=this.auth.getSignupUrl(),a=void 0;return a="object"===d(arguments[0])?arguments[0]:{displayName:e,email:t,password:o},this.http.fetch(r,{method:"post",body:(0,n.json)(a)}).then(l.status).then(function(e){return i.config.loginOnSignup?i.auth.setToken(e):i.config.signupRedirect&&(window.location.href=i.config.signupRedirect),i.eventAggregator.publish("auth:signup",e),e})},e.prototype.login=function(e,t){var o=this,i=this.auth.getLoginUrl(),r=void 0;return r="string"!=typeof arguments[1]?arguments[0]:{email:e,password:t},this.http.fetch(i,{method:"post",headers:"string"==typeof r?{"Content-Type":"application/x-www-form-urlencoded"}:{},body:"string"==typeof r?r:(0,n.json)(r)}).then(l.status).then(function(e){return o.auth.setToken(e),o.eventAggregator.publish("auth:login",e),e})},e.prototype.logout=function(e){var t=this;return this.auth.logout(e).then(function(){t.eventAggregator.publish("auth:logout")})},e.prototype.authenticate=function(e,t,n){var o=this,i=this.oAuth2;return"1.0"===this.config.providers[e].type&&(i=this.oAuth1),i.open(this.config.providers[e],n||{}).then(function(e){return o.auth.setToken(e,t),o.eventAggregator.publish("auth:authenticate",e),e})},e.prototype.unlink=function(e){var t=this,o=this.config.baseUrl?(0,l.joinUrl)(this.config.baseUrl,this.config.unlinkUrl):this.config.unlinkUrl;return"get"===this.config.unlinkMethod?this.http.fetch(o+e).then(l.status).then(function(e){return t.eventAggregator.publish("auth:unlink",e),e}):"post"===this.config.unlinkMethod?this.http.fetch(o,{method:"post",body:(0,n.json)(e)}).then(l.status).then(function(e){return t.eventAggregator.publish("auth:unlink",e),e}):void 0},e}())||p)}),define("aurelia-auth/authentication",["exports","aurelia-dependency-injection","./base-config","./storage","./auth-utilities"],function(e,t,n,o,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Authentication=void 0;var a,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();e.Authentication=(a=(0,t.inject)(o.Storage,n.BaseConfig),a(s=function(){function e(t,n){r(this,e),this.storage=t,this.config=n.current,this.tokenName=this.config.tokenPrefix?this.config.tokenPrefix+"_"+this.config.tokenName:this.config.tokenName,this.idTokenName=this.config.tokenPrefix?this.config.tokenPrefix+"_"+this.config.idTokenName:this.config.idTokenName}return e.prototype.getLoginRoute=function(){return this.config.loginRoute},e.prototype.getLoginRedirect=function(){return this.initialUrl||this.config.loginRedirect},e.prototype.getLoginUrl=function(){return this.config.baseUrl?(0,i.joinUrl)(this.config.baseUrl,this.config.loginUrl):this.config.loginUrl},e.prototype.getSignupUrl=function(){return this.config.baseUrl?(0,i.joinUrl)(this.config.baseUrl,this.config.signupUrl):this.config.signupUrl},e.prototype.getProfileUrl=function(){return this.config.baseUrl?(0,i.joinUrl)(this.config.baseUrl,this.config.profileUrl):this.config.profileUrl},e.prototype.getToken=function(){return this.storage.get(this.tokenName)},e.prototype.getPayload=function(){var e=this.storage.get(this.tokenName);return this.decomposeToken(e)},e.prototype.decomposeToken=function(e){if(e&&3===e.split(".").length){var t=e.split(".")[1],n=t.replace(/-/g,"+").replace(/_/g,"/");try{return JSON.parse(decodeURIComponent(escape(window.atob(n))))}catch(e){return null}}},e.prototype.setInitialUrl=function(e){this.initialUrl=e},e.prototype.setToken=function(e,t){var n=e&&e[this.config.responseTokenProp],o=void 0;n&&((0,i.isObject)(n)&&(0,i.isObject)(n.data)?e=n:(0,i.isString)(n)&&(o=n)),!o&&e&&(o=this.config.tokenRoot&&e[this.config.tokenRoot]?e[this.config.tokenRoot][this.config.tokenName]:e[this.config.tokenName]),o&&this.storage.set(this.tokenName,o);var r=e&&e[this.config.responseIdTokenProp];r&&this.storage.set(this.idTokenName,r),this.config.loginRedirect&&!t?window.location.href=this.getLoginRedirect():t&&(0,i.isString)(t)&&(window.location.href=window.encodeURI(t))},e.prototype.removeToken=function(){this.storage.remove(this.tokenName)},e.prototype.isAuthenticated=function(){var e=this.storage.get(this.tokenName);if(!e)return!1;if(3!==e.split(".").length)return!0;var t=void 0;try{var n=e.split(".")[1],o=n.replace(/-/g,"+").replace(/_/g,"/");t=JSON.parse(window.atob(o)).exp}catch(e){return!1}return!t||Math.round((new Date).getTime()/1e3)<=t},e.prototype.logout=function(e){var t=this;return new Promise(function(n){t.storage.remove(t.tokenName),t.config.logoutRedirect&&!e?window.location.href=t.config.logoutRedirect:(0,i.isString)(e)&&(window.location.href=e),n()})},l(e,[{key:"tokenInterceptor",get:function(){var e=this.config,t=this.storage,n=this;return{request:function(o){if(n.isAuthenticated()&&e.httpInterceptor){var i=e.tokenPrefix?e.tokenPrefix+"_"+e.tokenName:e.tokenName,r=t.get(i);e.authHeader&&e.authToken&&(r=e.authToken+" "+r),o.headers.set(e.authHeader,r)}return o}}}}]),e}())||s)}),define("aurelia-auth/base-config",["exports","./auth-utilities"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.BaseConfig=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();e.BaseConfig=function(){function e(){n(this,e),this._current={httpInterceptor:!0,loginOnSignup:!0,baseUrl:"/",loginRedirect:"#/",logoutRedirect:"#/",signupRedirect:"#/login",loginUrl:"/auth/login",signupUrl:"/auth/signup",profileUrl:"/auth/me",loginRoute:"/login",signupRoute:"/signup",tokenRoot:!1,tokenName:"token",idTokenName:"id_token",tokenPrefix:"aurelia",responseTokenProp:"access_token",responseIdTokenProp:"id_token",unlinkUrl:"/auth/unlink/",unlinkMethod:"get",authHeader:"Authorization",authToken:"Bearer",withCredentials:!0,platform:"browser",storage:"localStorage",providers:{identSrv:{name:"identSrv",url:"/auth/identSrv",redirectUri:window.location.origin||window.location.protocol+"//"+window.location.host,scope:["profile","openid"],responseType:"code",scopePrefix:"",scopeDelimiter:" ",requiredUrlParams:["scope","nonce"],optionalUrlParams:["display","state"],state:function(){var e=Math.random().toString(36).substr(2);return encodeURIComponent(e)},display:"popup",type:"2.0",clientId:"jsClient",nonce:function(){var e=((Date.now()+Math.random())*Math.random()).toString().replace(".","");return encodeURIComponent(e)},popupOptions:{width:452,height:633}},google:{name:"google",url:"/auth/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:window.location.origin||window.location.protocol+"//"+window.location.host,scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",requiredUrlParams:["scope"],optionalUrlParams:["display","state"],display:"popup",type:"2.0",state:function(){var e=Math.random().toString(36).substr(2);return encodeURIComponent(e)},popupOptions:{width:452,height:633}},facebook:{name:"facebook",url:"/auth/facebook",authorizationEndpoint:"https://www.facebook.com/v2.3/dialog/oauth",redirectUri:window.location.origin+"/"||window.location.protocol+"//"+window.location.host+"/",scope:["email"],scopeDelimiter:",",nonce:function(){return Math.random()},requiredUrlParams:["nonce","display","scope"],display:"popup",type:"2.0",popupOptions:{width:580,height:400}},linkedin:{name:"linkedin",url:"/auth/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:window.location.origin||window.location.protocol+"//"+window.location.host,requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",type:"2.0",popupOptions:{width:527,height:582}},github:{name:"github",url:"/auth/github",authorizationEndpoint:"https://github.com/login/oauth/authorize",redirectUri:window.location.origin||window.location.protocol+"//"+window.location.host,optionalUrlParams:["scope"],scope:["user:email"],scopeDelimiter:" ",type:"2.0",popupOptions:{width:1020,height:618}},yahoo:{name:"yahoo",url:"/auth/yahoo",authorizationEndpoint:"https://api.login.yahoo.com/oauth2/request_auth",redirectUri:window.location.origin||window.location.protocol+"//"+window.location.host,scope:[],scopeDelimiter:",",type:"2.0",popupOptions:{width:559,height:519}},twitter:{name:"twitter",url:"/auth/twitter",authorizationEndpoint:"https://api.twitter.com/oauth/authenticate",type:"1.0",popupOptions:{width:495,height:645}},live:{name:"live",url:"/auth/live",authorizationEndpoint:"https://login.live.com/oauth20_authorize.srf",redirectUri:window.location.origin||window.location.protocol+"//"+window.location.host,scope:["wl.emails"],scopeDelimiter:" ",requiredUrlParams:["display","scope"],display:"popup",type:"2.0",popupOptions:{width:500,height:560}},instagram:{name:"instagram",url:"/auth/instagram",authorizationEndpoint:"https://api.instagram.com/oauth/authorize",redirectUri:window.location.origin||window.location.protocol+"//"+window.location.host,requiredUrlParams:["scope"],scope:["basic"],scopeDelimiter:"+",display:"popup",type:"2.0",popupOptions:{width:550,height:369}}}}}return e.prototype.configure=function(e){(0,t.merge)(this._current,e)},o(e,[{key:"current",get:function(){return this._current}}]),e}()}),define("aurelia-auth/auth-utilities",["exports"],function(e){"use strict";function t(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function n(e,o,i){for(var r=e.$$hashKey,a=0,s=o.length;a<s;++a){var c=o[a];if(l(c)||u(c))for(var p=Object.keys(c),d=0,f=p.length;d<f;d++){var h=p[d],g=c[h];i&&l(g)?(l(e[h])||(e[h]=Array.isArray(g)?[]:{}),n(e[h],[g],!0)):e[h]=g}}return t(e,r),e}function o(e){if(e.status>=200&&e.status<400)return e.json().catch(function(e){return null});throw e}function i(e){return"undefined"!=typeof e}function r(e){return e.replace(/([\:\-\_]+(.))/g,function(e,t,n,o){return o?n.toUpperCase():n})}function a(e){var t=void 0,n=void 0,o={};return m((e||"").split("&"),function(e){e&&(n=e.split("="),t=decodeURIComponent(n[0]),o[t]=!i(n[1])||decodeURIComponent(n[1]))}),o}function s(e){return"string"==typeof e}function l(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":v(e))}function u(e){return"function"==typeof e}function c(e,t){if(/^(?:[a-z]+:)?\/\//i.test(t))return t;var n=[e,t].join("/"),o=function(e){return e.replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")};return o(n)}function p(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":v(e))&&!Object.getPrototypeOf(e)}function d(e){if(null===e||f(e))return!1}function f(e){return e&&e.window===e}function h(e){return n(e,y.call(arguments,1),!1)}function g(e){return n(e,y.call(arguments,1),!0)}function m(e,t,n){var o=void 0,i=void 0;if(e)if(u(e))for(o in e)"prototype"===o||"length"===o||"name"===o||e.hasOwnProperty&&!e.hasOwnProperty(o)||t.call(n,e[o],o,e);else if(Array.isArray(e)||d(e)){var r="object"!==("undefined"==typeof e?"undefined":v(e));for(o=0,i=e.length;o<i;o++)(r||o in e)&&t.call(n,e[o],o,e)}else if(e.forEach&&e.forEach!==m)e.forEach(t,n,e);else if(p(e))for(o in e)t.call(n,e[o],o,e);else if("function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e);else for(o in e)hasOwnProperty.call(e,o)&&t.call(n,e[o],o,e);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.status=o,e.isDefined=i,e.camelCase=r,e.parseQueryString=a,e.isString=s,e.isObject=l,e.isFunction=u,e.joinUrl=c,e.isBlankObject=p,e.isArrayLike=d,e.isWindow=f,e.extend=h,e.merge=g,e.forEach=m;var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=[].slice}),define("aurelia-auth/storage",["exports","aurelia-dependency-injection","./base-config"],function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Storage=void 0;var i,r;e.Storage=(i=(0,t.inject)(n.BaseConfig),i(r=function(){function e(t){o(this,e),this.config=t.current,this.storage=this._getStorage(this.config.storage)}return e.prototype.get=function(e){return this.storage.getItem(e)},e.prototype.set=function(e,t){return this.storage.setItem(e,t)},e.prototype.remove=function(e){return this.storage.removeItem(e)},e.prototype._getStorage=function(e){if("localStorage"===e){if("localStorage"in window&&null!==window.localStorage)return localStorage;throw new Error("Local Storage is disabled or unavailable.")}if("sessionStorage"===e){if("sessionStorage"in window&&null!==window.sessionStorage)return sessionStorage;throw new Error("Session Storage is disabled or unavailable.")}throw new Error("Invalid storage type specified: "+e)},e}())||r)}),define("aurelia-auth/oAuth1",["exports","aurelia-dependency-injection","./auth-utilities","./storage","./popup","./base-config","aurelia-fetch-client"],function(e,t,n,o,i,r,a){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.OAuth1=void 0;var l,u;e.OAuth1=(l=(0,t.inject)(o.Storage,i.Popup,a.HttpClient,r.BaseConfig),l(u=function(){function e(t,n,o,i){s(this,e),this.storage=t,this.config=i.current,this.popup=n,this.http=o,this.defaults={url:null,name:null,popupOptions:null,redirectUri:null,authorizationEndpoint:null}}return e.prototype.open=function(e,t){var o=this,i=(0,n.extend)({},this.defaults,e),r=this.config.baseUrl?(0,n.joinUrl)(this.config.baseUrl,i.url):i.url;return"mobile"!==this.config.platform&&(this.popup=this.popup.open("",i.name,i.popupOptions,i.redirectUri)),this.http.fetch(r,{method:"post"}).then(n.status).then(function(e){"mobile"===o.config.platform?o.popup=o.popup.open([i.authorizationEndpoint,o.buildQueryString(e)].join("?"),i.name,i.popupOptions,i.redirectUri):o.popup.popupWindow.location=[i.authorizationEndpoint,o.buildQueryString(e)].join("?");var n="mobile"===o.config.platform?o.popup.eventListener(i.redirectUri):o.popup.pollPopup();return n.then(function(e){return o.exchangeForToken(e,t,i)})})},e.prototype.exchangeForToken=function(e,t,o){var i=(0,n.extend)({},t,e),r=this.config.baseUrl?(0,n.joinUrl)(this.config.baseUrl,o.url):o.url,s=this.config.withCredentials?"include":"same-origin";return this.http.fetch(r,{method:"post",body:(0,a.json)(i),credentials:s}).then(n.status)},e.prototype.buildQueryString=function(e){var t=[];return(0,n.forEach)(e,function(e,n){return t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}),t.join("&")},e}())||u)}),define("aurelia-auth/popup",["exports","./auth-utilities","./base-config","aurelia-dependency-injection"],function(e,t,n,o){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Popup=void 0;var r,a;e.Popup=(r=(0,o.inject)(n.BaseConfig),r(a=function(){function e(t){i(this,e),this.config=t.current,this.popupWindow=null,this.polling=null,this.url=""}return e.prototype.open=function(e,t,n,o){this.url=e;var i=this.stringifyOptions(this.prepareOptions(n||{}));return this.popupWindow=window.open(e,t,i),this.popupWindow&&this.popupWindow.focus&&this.popupWindow.focus(),this},e.prototype.eventListener=function(e){var n=this,o=new Promise(function(o,i){n.popupWindow.addEventListener("loadstart",function(r){if(0===r.url.indexOf(e)){var a=document.createElement("a");if(a.href=r.url,a.search||a.hash){var s=a.search.substring(1).replace(/\/$/,""),l=a.hash.substring(1).replace(/\/$/,""),u=(0,t.parseQueryString)(l),c=(0,t.parseQueryString)(s);(0,t.extend)(c,u),c.error?i({error:c.error}):o(c),n.popupWindow.close()}}}),popupWindow.addEventListener("exit",function(){i({data:"Provider Popup was closed"})}),popupWindow.addEventListener("loaderror",function(){deferred.reject({data:"Authorization Failed"})})});return o},e.prototype.pollPopup=function(){var e=this,n=this,o=new Promise(function(o,i){e.polling=setInterval(function(){try{var e=document.location.host,r=n.popupWindow.location.host;if(r===e&&(n.popupWindow.location.search||n.popupWindow.location.hash)){var a=n.popupWindow.location.search.substring(1).replace(/\/$/,""),s=n.popupWindow.location.hash.substring(1).replace(/[\/$]/,""),l=(0,t.parseQueryString)(s),u=(0,t.parseQueryString)(a);(0,t.extend)(u,l),u.error?i({error:u.error}):o(u),n.popupWindow.close(),clearInterval(n.polling)}}catch(e){}n.popupWindow?n.popupWindow.closed&&(clearInterval(n.polling),i({data:"Problem poll popup"})):(clearInterval(n.polling),i({data:"Provider Popup Blocked"}))},35)});return o},e.prototype.prepareOptions=function(e){var n=e.width||500,o=e.height||500;return(0,t.extend)({width:n,height:o,left:window.screenX+(window.outerWidth-n)/2,top:window.screenY+(window.outerHeight-o)/2.5},e)},e.prototype.stringifyOptions=function(e){var n=[];return(0,t.forEach)(e,function(e,t){n.push(t+"="+e)}),n.join(",")},e}())||a)}),define("aurelia-auth/oAuth2",["exports","aurelia-dependency-injection","./auth-utilities","./storage","./popup","./base-config","./authentication","aurelia-fetch-client"],function(e,t,n,o,i,r,a,s){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.OAuth2=void 0;var u,c;e.OAuth2=(u=(0,t.inject)(o.Storage,i.Popup,s.HttpClient,r.BaseConfig,a.Authentication),u(c=function(){function e(t,n,o,i,r){l(this,e),this.storage=t,this.config=i.current,this.popup=n,this.http=o,this.auth=r,this.defaults={url:null,name:null,state:null,scope:null,scopeDelimiter:null,redirectUri:null,popupOptions:null,authorizationEndpoint:null,responseParams:null,requiredUrlParams:null,optionalUrlParams:null,defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code"}}return e.prototype.open=function(e,t){var o=this,i=(0,n.extend)({},this.defaults,e),r=i.name+"_state";(0,n.isFunction)(i.state)?this.storage.set(r,i.state()):(0,n.isString)(i.state)&&this.storage.set(r,i.state);var a=i.name+"_nonce";(0,n.isFunction)(i.nonce)?this.storage.set(a,i.nonce()):(0,n.isString)(i.nonce)&&this.storage.set(a,i.nonce);var s=i.authorizationEndpoint+"?"+this.buildQueryString(i),l=void 0;return l="mobile"===this.config.platform?this.popup.open(s,i.name,i.popupOptions,i.redirectUri).eventListener(i.redirectUri):this.popup.open(s,i.name,i.popupOptions,i.redirectUri).pollPopup(),l.then(function(e){return e.state&&e.state!==o.storage.get(r)?Promise.reject("OAuth 2.0 state parameter mismatch."):i.responseType.toUpperCase().indexOf("TOKEN")!==-1?o.verifyIdToken(e,i.name)?e:Promise.reject("OAuth 2.0 Nonce parameter mismatch."):o.exchangeForToken(e,t,i)})},e.prototype.verifyIdToken=function(e,t){var n=e&&e[this.config.responseIdTokenProp];if(!n)return!0;var o=this.auth.decomposeToken(n);if(!o)return!0;var i=o.nonce;if(!i)return!0;var r=this.storage.get(t+"_nonce");return i===r},e.prototype.exchangeForToken=function(e,t,o){var i=(0,n.extend)({},t,{code:e.code,clientId:o.clientId,redirectUri:o.redirectUri});e.state&&(i.state=e.state),(0,n.forEach)(o.responseParams,function(t){return i[t]=e[t]});var r=this.config.baseUrl?(0,n.joinUrl)(this.config.baseUrl,o.url):o.url,a=this.config.withCredentials?"include":"same-origin";return this.http.fetch(r,{method:"post",body:(0,s.json)(i),credentials:a}).then(n.status)},e.prototype.buildQueryString=function(e){var t=this,o=[],i=["defaultUrlParams","requiredUrlParams","optionalUrlParams"];return(0,n.forEach)(i,function(i){(0,n.forEach)(e[i],function(i){var r=(0,n.camelCase)(i),a=(0,n.isFunction)(e[i])?e[i]():e[r];if("state"===i){var s=e.name+"_state";a=encodeURIComponent(t.storage.get(s))}if("nonce"===i){var l=e.name+"_nonce";a=encodeURIComponent(t.storage.get(l))}"scope"===i&&Array.isArray(a)&&(a=a.join(e.scopeDelimiter),e.scopePrefix&&(a=[e.scopePrefix,a].join(e.scopeDelimiter))),o.push([i,a])})}),o.map(function(e){return e.join("=")}).join("&")},e}())||c)}),define("aurelia-auth/authorize-step",["exports","aurelia-dependency-injection","aurelia-router","./authentication"],function(e,t,n,o){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.AuthorizeStep=void 0;var r,a;e.AuthorizeStep=(r=(0,t.inject)(o.Authentication),r(a=function(){function e(t){i(this,e),this.auth=t}return e.prototype.run=function(e,t){var o=this.auth.isAuthenticated(),i=this.auth.getLoginRoute();if(e.getAllInstructions().some(function(e){return e.config.auth})){if(!o)return this.auth.setInitialUrl(window.location.href),t.cancel(new n.Redirect(i))}else if(o&&e.getAllInstructions().some(function(e){return e.fragment===i})){var r=this.auth.getLoginRedirect();return t.cancel(new n.Redirect(r))}return t()},e}())||a)}),define("aurelia-auth/auth-fetch-config",["exports","aurelia-dependency-injection","aurelia-fetch-client","./authentication"],function(e,t,n,o){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.FetchConfig=void 0;var r,a;e.FetchConfig=(r=(0,t.inject)(n.HttpClient,o.Authentication),r(a=function(){function e(t,n){i(this,e),this.httpClient=t,this.auth=n}return e.prototype.configure=function(){var e=this;this.httpClient.configure(function(t){t.withDefaults({headers:{Accept:"application/json"}}).withInterceptor(e.auth.tokenInterceptor)})},e}())||a)}),define("aurelia-auth/auth-filter",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.AuthFilterValueConverter=function(){function e(){t(this,e)}return e.prototype.toView=function(e,t){return e.filter(function(e){return void 0===e.config.auth||e.config.auth===t})},e}()}),define("aurelia-dialog/ai-dialog",["exports","aurelia-templating"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AiDialog=void 0;var n,o,i;e.AiDialog=(n=(0,t.customElement)("ai-dialog"),o=(0,t.inlineView)("\n  <template>\n    <slot></slot>\n  </template>\n"),n(i=o(i=function(){})||i)||i)}),define("aurelia-dialog/ai-dialog-header",["exports","aurelia-templating","./dialog-controller"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AiDialogHeader=void 0;var o,i,r,a,s;e.AiDialogHeader=(o=(0,t.customElement)("ai-dialog-header"),i=(0,t.inlineView)('\n  <template>\n    <button type="button" class="dialog-close" aria-label="Close" if.bind="!controller.settings.lock" click.trigger="controller.cancel()">\n      <span aria-hidden="true">&times;</span>\n    </button>\n\n    <div class="dialog-header-content">\n      <slot></slot>\n    </div>\n  </template>\n'),o(r=i((s=a=function(e){this.controller=e},a.inject=[n.DialogController],r=s))||r)||r)}),define("aurelia-dialog/dialog-controller",["exports","./lifecycle","./dialog-result"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DialogController=void 0;e.DialogController=function(){function e(e,t,n,o){this.renderer=e,this.settings=t,this._resolve=n,this._reject=o}return e.prototype.ok=function(e){return this.close(!0,e)},e.prototype.cancel=function(e){return this.close(!1,e)},e.prototype.error=function(e){var n=this;return(0,t.invokeLifecycle)(this.viewModel,"deactivate").then(function(){return n.renderer.hideDialog(n)}).then(function(){n.controller.unbind(),n._reject(e)})},e.prototype.close=function(e,o){var i=this;return this._closePromise?this._closePromise:(this._closePromise=(0,t.invokeLifecycle)(this.viewModel,"canDeactivate").then(function(r){return r?(0,t.invokeLifecycle)(i.viewModel,"deactivate").then(function(){return i.renderer.hideDialog(i)}).then(function(){var t=new n.DialogResult(!e,o);return i.controller.unbind(),i._resolve(t),t}):void(i._closePromise=void 0)},function(e){return i._closePromise=void 0,Promise.reject(e)}),this._closePromise)},e}()}),define("aurelia-dialog/lifecycle",["exports"],function(e){"use strict";function t(e,t,n){if("function"==typeof e[t]){var o=e[t](n);return o instanceof Promise?o:null!==o&&void 0!==o?Promise.resolve(o):Promise.resolve(!0)}return Promise.resolve(!0)}Object.defineProperty(e,"__esModule",{value:!0}),e.invokeLifecycle=t}),define("aurelia-dialog/dialog-result",["exports"],function(e){
"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DialogResult=function(e,t){this.wasCancelled=!1,this.wasCancelled=e,this.output=t}}),define("aurelia-dialog/ai-dialog-body",["exports","aurelia-templating"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AiDialogBody=void 0;var n,o,i;e.AiDialogBody=(n=(0,t.customElement)("ai-dialog-body"),o=(0,t.inlineView)("\n  <template>\n    <slot></slot>\n  </template>\n"),n(i=o(i=function(){})||i)||i)}),define("aurelia-dialog/ai-dialog-footer",["exports","aurelia-templating","./dialog-controller"],function(e,t,n){"use strict";function o(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function i(e,t,n,o,i){var r={};return Object.keys(o).forEach(function(e){r[e]=o[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.AiDialogFooter=void 0;var r,a,s,l,u,c,p,d;e.AiDialogFooter=(r=(0,t.customElement)("ai-dialog-footer"),a=(0,t.inlineView)('\n  <template>\n    <slot></slot>\n\n    <template if.bind="buttons.length > 0">\n      <button type="button" class="btn btn-default" repeat.for="button of buttons" click.trigger="close(button)">${button}</button>\n    </template>\n  </template>\n'),r(s=a((d=p=function(){function e(e){o(this,"buttons",u,this),o(this,"useDefaultButtons",c,this),this.controller=e}return e.prototype.close=function(t){e.isCancelButton(t)?this.controller.cancel(t):this.controller.ok(t)},e.prototype.useDefaultButtonsChanged=function(e){e&&(this.buttons=["Cancel","Ok"])},e.isCancelButton=function(e){return"Cancel"===e},e}(),p.inject=[n.DialogController],l=d,u=i(l.prototype,"buttons",[t.bindable],{enumerable:!0,initializer:function(){return[]}}),c=i(l.prototype,"useDefaultButtons",[t.bindable],{enumerable:!0,initializer:function(){return!1}}),s=l))||s)||s)}),define("aurelia-dialog/attach-focus",["exports","aurelia-templating"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AttachFocus=void 0;var n,o,i,r;e.AttachFocus=(n=(0,t.customAttribute)("attach-focus"),n((r=i=function(){function e(e){this.value=!0,this.element=e}return e.prototype.attached=function(){this.value&&"false"!==this.value&&this.element.focus()},e.prototype.valueChanged=function(e){this.value=e},e}(),i.inject=[Element],o=r))||o)}),define("aurelia-dialog/dialog-configuration",["exports","./renderer","./dialog-renderer","./dialog-options","aurelia-pal"],function(e,t,n,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DialogConfiguration=void 0;var r=n.DialogRenderer,a={"ai-dialog":"./ai-dialog","ai-dialog-header":"./ai-dialog-header","ai-dialog-body":"./ai-dialog-body","ai-dialog-footer":"./ai-dialog-footer","attach-focus":"./attach-focus"},s="ai-dialog-container,ai-dialog-overlay{position:fixed;top:0;right:0;bottom:0;left:0}ai-dialog-overlay{opacity:0}ai-dialog-overlay.active{opacity:1}ai-dialog-container{display:block;transition:opacity .2s linear;opacity:0;overflow-x:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch}ai-dialog-container.active{opacity:1}ai-dialog-container>div{padding:30px}ai-dialog-container>div>div{display:block;min-width:300px;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;height:-moz-fit-content;height:-webkit-fit-content;height:fit-content;margin:auto}ai-dialog-container,ai-dialog-container>div,ai-dialog-container>div>div{outline:0}ai-dialog{display:table;box-shadow:0 5px 15px rgba(0,0,0,.5);border:1px solid rgba(0,0,0,.2);border-radius:5px;padding:3;min-width:300px;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;height:-moz-fit-content;height:-webkit-fit-content;height:fit-content;margin:auto;border-image-source:initial;border-image-slice:initial;border-image-width:initial;border-image-outset:initial;border-image-repeat:initial;background:#fff}ai-dialog>ai-dialog-header{display:block;padding:16px;border-bottom:1px solid #e5e5e5}ai-dialog>ai-dialog-header>button{float:right;border:none;display:block;width:32px;height:32px;background:0 0;font-size:22px;line-height:16px;margin:-14px -16px 0 0;padding:0;cursor:pointer}ai-dialog>ai-dialog-body{display:block;padding:16px}ai-dialog>ai-dialog-footer{display:block;padding:6px;border-top:1px solid #e5e5e5;text-align:right}ai-dialog>ai-dialog-footer button{color:#333;background-color:#fff;padding:6px 12px;font-size:14px;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid #ccc;border-radius:4px;margin:5px 0 5px 5px}ai-dialog>ai-dialog-footer button:disabled{cursor:default;opacity:.45}ai-dialog>ai-dialog-footer button:hover:enabled{color:#333;background-color:#e6e6e6;border-color:#adadad}.ai-dialog-open{overflow:hidden}";e.DialogConfiguration=function(){function e(e){this.aurelia=e,this.settings=o.dialogOptions,this.resources=[],this.cssText=s,this.renderer=r}return e.prototype.useDefaults=function(){return this.useRenderer(r).useCSS(s).useStandardResources()},e.prototype.useStandardResources=function(){return this.useResource("ai-dialog").useResource("ai-dialog-header").useResource("ai-dialog-body").useResource("ai-dialog-footer").useResource("attach-focus")},e.prototype.useResource=function(e){return this.resources.push(e),this},e.prototype.useRenderer=function(e,t){return this.renderer=e,this.settings=Object.assign(this.settings,t||{}),this},e.prototype.useCSS=function(e){return this.cssText=e,this},e.prototype._apply=function(){var e=this;this.aurelia.transient(t.Renderer,this.renderer),this.resources.forEach(function(t){return e.aurelia.globalResources(a[t])}),this.cssText&&i.DOM.injectStyles(this.cssText)},e}()}),define("aurelia-dialog/renderer",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Renderer=function(){function e(){}return e.prototype.getDialogContainer=function(){throw new Error("DialogRenderer must implement getDialogContainer().")},e.prototype.showDialog=function(e){throw new Error("DialogRenderer must implement showDialog().")},e.prototype.hideDialog=function(e){throw new Error("DialogRenderer must implement hideDialog().")},e}()}),define("aurelia-dialog/dialog-renderer",["exports","aurelia-pal","aurelia-dependency-injection"],function(e,t,n){"use strict";function o(e){var n=e.children[0],o=Math.max(t.DOM.querySelectorAll("html")[0].clientHeight,window.innerHeight||0);n.style.marginTop=Math.max((o-n.offsetHeight)/2,30)+"px",n.style.marginBottom=Math.max((o-n.offsetHeight)/2,30)+"px"}Object.defineProperty(e,"__esModule",{value:!0}),e.DialogRenderer=void 0;var i,r,a="ai-dialog-container",s="ai-dialog-overlay",l=function(){var e=null;return function(){if(e)return e;var n=void 0,o=t.DOM.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(n in i)if(void 0!==o.style[n])return e=i[n]}}(),u=e.DialogRenderer=(i=(0,n.transient)(),i(r=function(){function e(){var e=this;this._escapeKeyEventHandler=function(t){if(27===t.keyCode){var n=e._dialogControllers[e._dialogControllers.length-1];n&&n.settings.lock!==!0&&n.cancel()}}}return e.prototype.getDialogContainer=function(){return t.DOM.createElement("div")},e.prototype.showDialog=function(e){var n=this,i=e.settings,r=t.DOM.querySelectorAll("body")[0],u=document.createElement("div");this.modalOverlay=t.DOM.createElement(s),this.modalContainer=t.DOM.createElement(a),this.anchor=e.slot.anchor,u.appendChild(this.anchor),this.modalContainer.appendChild(u),this.stopPropagation=function(e){e._aureliaDialogHostClicked=!0},this.closeModalClick=function(t){return!i.lock&&!t._aureliaDialogHostClicked&&void e.cancel()},e.centerDialog=function(){i.centerHorizontalOnly||o(n.modalContainer)},this.modalOverlay.style.zIndex=i.startingZIndex,this.modalContainer.style.zIndex=i.startingZIndex;var c=Array.from(r.querySelectorAll(a)).pop();return c?(c.parentNode.insertBefore(this.modalContainer,c.nextSibling),c.parentNode.insertBefore(this.modalOverlay,c.nextSibling)):(r.insertBefore(this.modalContainer,r.firstChild),r.insertBefore(this.modalOverlay,r.firstChild)),this._dialogControllers.length||t.DOM.addEventListener("keyup",this._escapeKeyEventHandler),this._dialogControllers.push(e),e.slot.attached(),"function"==typeof i.position?i.position(this.modalContainer,this.modalOverlay):e.centerDialog(),this.modalContainer.addEventListener("click",this.closeModalClick),this.anchor.addEventListener("click",this.stopPropagation),new Promise(function(e){function t(n){n.target===o.modalContainer&&(o.modalContainer.removeEventListener(l(),t),e())}var o=n;i.ignoreTransitions?e():n.modalContainer.addEventListener(l(),t),n.modalOverlay.classList.add("active"),n.modalContainer.classList.add("active"),r.classList.add("ai-dialog-open")})},e.prototype.hideDialog=function(e){var n=this,o=e.settings,i=t.DOM.querySelectorAll("body")[0];this.modalContainer.removeEventListener("click",this.closeModalClick),this.anchor.removeEventListener("click",this.stopPropagation);var r=this._dialogControllers.indexOf(e);return r!==-1&&this._dialogControllers.splice(r,1),this._dialogControllers.length||t.DOM.removeEventListener("keyup",this._escapeKeyEventHandler),new Promise(function(e){function t(){i.modalContainer.removeEventListener(l(),t),e()}var i=n;o.ignoreTransitions?e():n.modalContainer.addEventListener(l(),t),n.modalOverlay.classList.remove("active"),n.modalContainer.classList.remove("active")}).then(function(){return i.removeChild(n.modalOverlay),i.removeChild(n.modalContainer),e.slot.detached(),n._dialogControllers.length||i.classList.remove("ai-dialog-open"),Promise.resolve()})},e}())||r);u.prototype._dialogControllers=[]}),define("aurelia-dialog/dialog-options",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.dialogOptions={lock:!0,centerHorizontalOnly:!1,startingZIndex:1e3,ignoreTransitions:!1}}),define("aurelia-dialog/dialog-service",["exports","aurelia-metadata","aurelia-dependency-injection","aurelia-templating","./dialog-controller","./renderer","./lifecycle","./dialog-result","./dialog-options"],function(e,t,n,o,i,r,a,s,l){"use strict";function u(e){return e=Object.assign({},l.dialogOptions,e),e.startingZIndex=l.dialogOptions.startingZIndex,e}function c(e,t,n){var i=n.renderer.getDialogContainer(),r={container:e.container,childContainer:t,model:n.settings.model,view:n.settings.view,viewModel:n.settings.viewModel,viewSlot:new o.ViewSlot(i,!0),host:i};return p(r,e.compositionEngine).then(function(t){return n.viewModel=t.viewModel,n.slot=t.viewSlot,(0,a.invokeLifecycle)(n.viewModel,"canActivate",n.settings.model).then(function(o){if(o)return e.compositionEngine.compose(t).then(function(t){return e.controllers.push(n),e.hasActiveDialog=!!e.controllers.length,n.controller=t,n.view=t.view,n.renderer.showDialog(n)})})})}function p(e,n){return"function"==typeof e.viewModel&&(e.viewModel=t.Origin.get(e.viewModel).moduleId),"string"==typeof e.viewModel?n.ensureViewModel(e):Promise.resolve(e)}function d(e,t){var n=e.controllers.indexOf(t);n!==-1&&(e.controllers.splice(n,1),e.hasActiveDialog=!!e.controllers.length)}Object.defineProperty(e,"__esModule",{value:!0}),e.DialogService=void 0;var f,h;e.DialogService=(h=f=function(){function e(e,t){this.container=e,this.compositionEngine=t,this.controllers=[],this.hasActiveDialog=!1}return e.prototype.open=function(e){return this.openAndYieldController(e).then(function(e){return e.result})},e.prototype.openAndYieldController=function(e){var t=this,n=this.container.createChild(),o=void 0,a=new Promise(function(t,a){o=new i.DialogController(n.get(r.Renderer),u(e),t,a)});return n.registerInstance(i.DialogController,o),o.result=a,o.result.then(function(){d(t,o)},function(){d(t,o)}),c(this,n,o).then(function(){return o})},e}(),f.inject=[n.Container,o.CompositionEngine],h)}),define("text!app.html",["module"],function(e){e.exports='<template>\n  <require from="spectre.css/dist/spectre.min.css"></require>\n  <div class="page-host">\n    <router-view></router-view>\n  </div>\n</template>\n'}),define("text!views/faq/create-faq.html",["module"],function(e){e.exports='<template>\n  <require from="./create-faq.css"></require>\n  <ai-dialog class="modal active">\n    <div class="modal-container">\n      <ai-dialog-body class="modal-body">\n        <div class="content">\n          <div class="form-group">\n            <select class="form-select">\n              <option>Choose an option</option>\n              <option>Slack</option>\n              <option>Skype</option>\n              <option>Hipchat</option>\n            </select>\n          </div>\n          <div class="form-group">\n            <label class="form-label" for="question">Question</label>\n            <input attach-focus="true" class="form-input" type="text" value.bind="faq.question" placeholder="question">\n          </div>\n          <div class="form-group">\n            <label class="form-label" for="answer">Answer</label>\n            <textarea class="form-input answer-box" value.bind="faq.answer" name="answer" rows="2" placeholder="answer"></textarea>\n          </div>\n        </div>\n      </ai-dialog-body>\n\n      <ai-dialog-footer class="modal-footer">\n        <button class="btn btn-link" click.delegate="controller.cancel()">Cancel</button>\n        <button class="btn btn-primary" click.delegate="create(faq)">Create</button>\n      </ai-dialog-footer>\n    </div>\n  </ai-dialog>\n</template>\n'}),define("text!views/faq/create-faq.css",["module"],function(e){e.exports=".content {\n  margin-right: 17px;\n  margin-left: 17px;\n}\n\n.modal-footer {\n  display: block;\n  padding: 0px;\n  padding-right: 17px;\n  padding-bottom: 12px;\n}\n\n.answer-box {\n  width: 100%;\n}\n"}),define("text!views/faq/faq.html",["module"],function(e){e.exports='<template>\n  <require from="./faq.css"></require>\n\n  <div class="container">\n    <div class="column col-10 centered">\n      <div class="columns">\n        <div class="column col-4">\n          <form submit.delegate="getFaqs()">\n            <div class="input-group">\n              <input type="text" value.bind="searchText" autofocus class="form-input" placeholder="Search" />\n              <button type="submit" class="btn btn-primary input-group-btn" click.delegate="getFaqs()">Go</button>\n            </div>\n          </form>\n        </div>\n        <div class="column col-2 create-faq">\n          <button class="btn" click.delegate="openFaqCreationDialog()"><i class="zmdi zmdi-plus zmdi-hc-lg"></i> Create FAQ</button>\n        </div>\n      </div>\n\n      <table class="table table-striped table-hover">\n        <thead>\n          <tr>\n            <th>Webpage</th>\n            <th>Question</th>\n            <th>Answer</th>\n            <th>Edit</th>\n            <th>Delete</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr repeat.for="faq of faqStore.items">\n            <td>${faq.webpage.name}</td>\n            <td>${faq.question}</td>\n            <td>${faq.answer}</td>\n            <td class="edit-btn"><i class="zmdi zmdi-edit zmdi-hc-lg pointer" click.delegate="faqStore.edit(faq)"></i></td>\n            <td class="delete-btn"><i class="zmdi zmdi-delete zmdi-hc-lg pointer" click.delegate="faqStore.delete(faq.id)"></i></td>\n          </tr>\n        </tbody>\n      </table>\n      <ul class="pagination float-right">\n        <li class="page-item">\n          <a click.delegate="faqStore.getItems(filters, include, \'previous\')" href="#">Previous</a>\n        </li>\n        <li class="page-item">\n          <a click.delegate="faqStore.getItems(filters, include, \'next\')" href="#">Next</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n'}),define("text!views/faq/faq.css",["module"],function(e){e.exports=".create-faq {\n  margin-left: auto\n}\n\n.edit-btn {\n  color: #3498db;\n}\n\n.delete-btn {\n  color: #e74c3c;\n}\n\n.pointer {\n  cursor: pointer;\n}\n"}),define("text!views/login/login.html",["module"],function(e){e.exports='<template>\n  <require from="./login.css"></require>\n  <div class="container">\n    <div class="column col-8 centered login">\n      <h1 class="text-center">Athena Desk</h1>\n      <form class="login-form">\n        <div class="form-group">\n          <label class="form-label">Email</label>\n          <input value.bind="email" autofocus class="form-input" type="text" placeholder="email">\n        </div>\n        <div class="form-group">\n          <label class="form-label">Password</label>\n          <input value.bind="password" class="form-input" type="password" placeholder="password">\n        </div>\n        <button class="btn btn-primary login-btn" click.delegate="login()">Login</button>\n        <p if.bind="showError" class="form-input-hint is-danger login-error">Wrong email or password</p>\n      </form>\n    </div>\n  </div>\n</template>\n'}),define("text!views/login/login.css",["module"],function(e){e.exports=".login {\n  margin-top: 10%;\n}\n\n.login-form {\n  max-width: 300px;\n  margin: auto;\n}\n\n.login-btn {\n  float: right;\n}\n\n.login-error {\n  color: red;\n}\n"});